services:
    thinframe.karma.listeners.commander:
        class: 'ThinFrame\Karma\Listeners\CommanderListener'
        arguments: ['@thinframe.cli.commander','@thinframe.cli.arguments_container']
        tags:
            - {name: 'thinframe.events.listener'}

    thinframe.karma.listeners.routines:
        class: 'ThinFrame\Karma\Listeners\RoutinesListener'
        calls:
            - ['setEnvironment',['@thinframe.karma.environment']]
        tags:
            - {name: 'thinframe.events.listener'}

    thinframe.karma.listeners.controllers:
        class: 'ThinFrame\Karma\Listeners\ControllersListener'
        tags:
            - {name: 'thinframe.events.listener'}
        calls:
            - [setProcessor, ['@thinframe.annotations.processor']]

    thinframe.karma.kisteners.request:
        class: 'ThinFrame\Karma\Listeners\RequestListener'
        tags:
            - {name: 'thinframe.events.listener'}
        calls:
            - [setRouteCollection, ['@thinframe.karma.route_collection']]