services:
    thinframe.karma.listeners.commander:
        class: 'ThinFrame\Karma\Listeners\CommanderListener'
        arguments: ['@thinframe.cli.commander','@thinframe.cli.arguments_container']
        tags:
            - {name: 'thinframe.events.listener'}

    thinframe.karma.listeners.exception:
        class: 'ThinFrame\Karma\Listeners\ErrorListener'
        tags:
            - {name: 'thinframe.events.listener'}
        calls:
            - [setLogger, ['@thinframe.karma.logger.cli']]

    thinframe.karma.listeners.cli_exceptions:
        class: 'ThinFrame\Karma\Listeners\CliErrorListener'
        arguments: ['@thinframe.cli.shortcodes_output_driver']
        tags:
            - {name: 'thinframe.events.listener'}

    thinframe.karma.listeners.request:
        class: 'ThinFrame\Karma\Listeners\RequestListener'
        arguments: ['@thinframe.karma.logger.server']
        tags:
            - {name: 'thinframe.events.listener'}

    thinframe.karma.listeners.assets_resolver:
        class: 'ThinFrame\Karma\Listeners\AssetsResolverListener'
        arguments: ['%karma.paths.assets%','@thinframe.server.react.event_loop']
        tags:
          - {name: 'thinframe.events.listener'}